<!doctype html>
<html>
<head>
<meta charset="UTF-8">
 <meta name="description" content="Configuration files describe what the SonicBase cluster looks like. Configuration files are used when deploying and starting clusters.">

 <title>SonicBase - Configuration Files</title>
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <meta name="description" content="Instructions and examples on how create the configuration files needed by SonicBase.">
 <link href="../css/singlePageTemplate.css" rel="stylesheet" type="text/css">
 <script type="text/javascript" src="../javascript/main.js"></script>
</head>
<body>
<div class="container">
 <header id="myHeader">
  <a href="../index.html">
   <h4 class="logo">SonicBaseâ„¢</h4>
  </a>
  <nav>
   <ul>
    <li><a href="../index.html">HOME</a></li>
    <li> <a href="../documentation.html">DOCUMENTATION</a></li>
    <li><a href="../contact.html">CONTACT</a></li>
   </ul>
  </nav>
 </header>

 <script>
     if (isFramed()) {
         document.getElementById("myHeader").style.display = "none";
     }
 </script>


 <div style="margin-left: 4em;">

<h3>Location</h3>
Config files are located in the "&lt;installDir&gt;/config" directory.
<br/>

<h3>Naming</h3>
The config file must be named "config-&lt;cluster name&gt;.json".
<br/>

<h3>Example</h3>
{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"database": {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"dataDirectory": "$HOME/db-data",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"installDirectory": "$HOME/database",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"compressRecords": false,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"useUnsafe": true,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"maxJavaHeap": "50%",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"maxJavaHeapTrigger": "90%",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"maxProcessMemoryTrigger": "90%",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"replicationFactor": 1,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"shards" : [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"replicas": [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"privateAddress": "localhost",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"publicAddress": "localhost",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"port": 9010<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"clients" : [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"privateAddress": "localhost",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"publicAddress": "localhost",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"port": 8080<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
}<br/>

<h3>Elements</h3>
dataDirectory - path to the location of the database files.<br/>
<br/>
installDirectory - path to the location of the installation directory.<br/>
<br/>
compressRecords - if true, records will be compressed when stored in memory. This option won't help much
unless you have lots of strings that compress well.<br/>
<br/>
useUnsafe - if true, records will be stores in unsafe memory (off java heap). This reduces the amount of
memory that is subject to garbase collection. Using this option slows down SonicBase, but it increases
the number of records you can load into the database<br/>
<br/>
maxJavaHeap - maximum java heap size. Can be absolute (e.g., 50g, 1024m). It can also be a percentage
of the machine total memory (e.g., 50%).<br/>
<br/>
maxJavaHeapTrigger - amount of java heap above which SonicBase will start rejecting inserts. It can be absolute
or a percentage. It is recommended that no more than 90% of the memory be used. You need to leave
at least 5gig for SonicBase processing<br/>
<br/>
maxProcessMemoryTrigger - maximum server memory footprint above which SonicBase will start rejecting inserts.
 It can be absolute or a percentage. It is recommended
that no more than 90% of the memory be used.<br/>
<br/>
shards - list of shards (servers)<br/>
<br/>
replicas - list of replicas. Only one replica can be configured in the free version<br/>
<br/>
&nbsp;&nbsp;&nbsp;privateAddress - address private to the cluster. If there is no private address, set this
to the public address<br/>
&nbsp;&nbsp;&nbsp;publicAddress - address the server can be accessed external to the cluster<br/>
&nbsp;&nbsp;&nbsp;port - port for the server to listen on<br/>
<br/>
clients - list of clients. These are servers where the client will run<br/>
<br/>
&nbsp;&nbsp;&nbsp;privateAddress - address private to the cluster. If there is no private address, set this
to the public address<br/>
&nbsp;&nbsp;&nbsp;publicAddress - address the server can be accessed external to the cluster<br/>
&nbsp;&nbsp;&nbsp;port - port for the server to listen on<br/>

</div>
</div>
</body>
</html>
