<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>SonicBase - Supported Data Types</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A list of all the SQL datatypes and an indication of which ones are supported by SonicBase.">
    <link href="../css/singlePageTemplate.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="../javascript/main.js"></script>
    <link rel="stylesheet" href="../css/tomorrow-night-bright.css">
    <script src="../javascript/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109032274-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-109032274-1');
        ga('require', 'displayfeatures');
    </script>
</head>

<body>
<div class="container">
    <header id="myHeader">
        <div class="mobile">
            <a href="../index.html">
                <h4 class="logo">SonicBase™</h4>
            </a>
        </div>

        <div class="desktop">
            <a href="../index.html">
                <img style="margin-top:3px" src="../images/logo-white.gif" width="50px"/><h4 class="logo">SonicBase™</h4>
            </a>
        <nav>
            <ul>
                <li><a href="../index.html">HOME</a></li>
                <li> <a href="../documentation.html">DOCUMENTATION</a></li>
                <li><a href="../contact.html">CONTACT</a></li>
            </ul>
        </nav>
        </div>
    </header>

    <script>
        if (isFramed()) {
            document.getElementById("myHeader").style.display = "none";
        }
    </script>


    <div style="margin-left: 4em;">

<h1>Functions</h1>
        <h3>Syntax</h3><table class="border-table" border="1"><tr><td> <table class="syntax-table" cellpadding="4">
        <tbody>

        <tr class="syntax-main">
            <td width="512" colspan=2 >
                SELECT select_columns FROM table_name [WHERE expression]
            </td>
        </tr>
        <tr><td><table cellpadding=4 cellspacing=0>
            <tr><td align="right">select_columns:&nbsp;&nbsp;</td><td width="430"> * for all columns or comma separated list of column names</td></tr>
            <tr ><td align="right">table_name:&nbsp;&nbsp;</td><td>name of table to select records from</td></tr>
            <tr ><td align="right">expression:&nbsp;&nbsp;</td>
                <td>column | constant | parameter | function | not expression | (expression) | <br>
                    expression operator expression | in (expression [, expression...])</td></tr>
            <tr><td align="right">operator:&nbsp;&nbsp;</td>
                <td> or | and  | = | != | &lt; | &gt; | &lt;= | &gt;=</td></tr>
            <tr><td align="right">function:&nbsp;&nbsp;</td>
                <td>function_name(expression [, expression...])</td></tr>

        </table></td></tr>

        </tbody>
    </table>
    </table>
        <br/>

        The following table lists functions supported by SonicBase.<br/>
        <br/>
<table class="syntax-table" border="1" cellpadding=2 cellspacing="0">
    <tr class="syntax-main"><td>Function Name</td><td>Description</td></tr>
    <tr><td>abs</td><td>Returns the absolute value of the first parameter</td></tr>
    <tr><td>avg</td><td>Returns the average value of all the parameters</td></tr>
    <tr><td>bit_and</td><td>Returns bitwise AND of the first two parameters</td></tr>
    <tr><td>bit_not</td><td>Returns bitwise NOT of the first parameter</td></tr>
    <tr><td>bit_or</td><td>Returns bitwise OR of the first two parameters</td></tr>
    <tr><td>bit_shift_left</td><td>Returns the first parameter shifted left by the number of bits specified by the second paramter</td></tr>
    <tr><td>bit_shift_right</td><td>Returns the first parameter shifted right by the number of bits specified by the second paramter</td></tr>
    <tr><td>bit_xor</td><td>Returns bitwise XOR of the first two parameters</td></tr>
    <tr><td>ceiling</td><td>Returns the smallest integer value not less than the first paramter</td></tr>
    <tr><td>char_length</td><td>Returns the number of characters in the first parameter</td></tr>
    <tr><td>coalesce</td><td>Returns the first non-null parameter</td></tr>
    <tr><td>concat</td><td>Returns the string created by appending the second paramter to the first paramter</td></tr>
    <tr><td>cos</td><td>Returns the cosine of the first paramter</td></tr>
    <tr><td>cot</td><td>Returns the cotangent of the first paramter</td></tr>
    <tr><td>custom</td><td>Allows you to plug in a custom function into the where clause</td></tr>
    <tr><td>date_add</td><td>Returns the date created by adding the milliseconds in the second parameter to the timestamp first parameter</td></tr>
    <tr><td>day</td><td>Returns the day of the month of the timestamp first paramter</td></tr>
    <tr><td>day_of_week</td><td>Returns the day of the week of the timestamp first parameter</td></tr>
    <tr><td>day_of_year</td><td>Returns the day of the month of the timestamp first paramter</td></tr>
    <tr><td>floor</td><td>Returns the largest integer value not greater than the first paramter</td></tr>
    <tr><td>hex</td><td>Returns the hexidecimal representation of the string first parameter</td></tr>
    <tr><td>hour</td><td>Returns the hour of the day of the timestamp first parameter</td></tr>
    <tr><td>index_of</td><td>Returns the offset in the string first parameter of the string second parameter</td></tr>
    <tr><td>log</td><td>Returns the natural logarithm of the first parameter</td></tr>
    <tr><td>log10</td><td>Returns the base-10 logarithm of the first parameter</td></tr>
    <tr><td>lower</td><td>Returns the lower case representation of the string first parameter</td></tr>
    <tr><td>max</td><td>Returns the maximum value of all the parameters</td></tr>
    <tr><td>max_timestamp</td><td>Returns the maximum timestamp of all the parameters</td></tr>
    <tr><td>min</td><td>Returns the minimum value of all the parameters</td></tr>
    <tr><td>min_timestamp</td><td>Returns the minimum timestamp of all the paramters</td></tr>
    <tr><td>minute</td><td>Returns the minute of the hour of the timestamp first parameter</td></tr>
    <tr><td>mod</td><td>Returns the modulo value of the first two parameters</td></tr>
    <tr><td>month</td><td>Returns the month of the year of the timestamp first parameter</td></tr>
    <tr><td>now</td><td>Returns the current date and time as a timestamp</td></tr>
    <tr><td>pi</td><td>Returns the value of pi</td></tr>
    <tr><td>power</td><td>Rerturns the value of the first parameter raised to the power of the second parameter</td></tr>
    <tr><td>radians</td><td>Returns the first parameter converted to redians</td></tr>
    <tr><td>replace</td><td>Returns the string first parameter with all occurrances of the second parameter replaced by the third parameter</td></tr>
    <tr><td>round</td><td>Returns the first parameter rounded to the nearest integer</td></tr>
    <tr><td>second</td><td>Returns the second of the minute of the timestamp first parameter</td></tr>
    <tr><td>sin</td><td>Returns the sine of the first parameter</td></tr>
    <tr><td>sqrt</td><td>Returns the square root of the first parameter</td></tr>
    <tr><td>str</td><td>Returns the string representation of the first parameter</td></tr>
    <tr><td>tan</td><td>Returns the tangent of the first parameter</td></tr>
    <tr><td>trim</td><td>Returns a string with the leading and trailing spaces removed from the first parameter</td></tr>
    <tr><td>upper</td><td>Returns the string first parameter converted to upper case</td></tr>
    <tr><td>week_of_month</td><td>Returns the week of the month of the timestamp first parameter</td></tr>
    <tr><td>week_of_year</td><td>Returns the week of the year of the timestamp first parameter</td></tr>
    <tr><td>year</td><td>Returns the year of the timestamp first parameter</td></tr>
</table>

    <h2>Custom Functions</h2>
    You may add the function named "custom" to insert a custom function into the where clause. Your function muat
    reside in a class with a default constructor and it must have a signature like the following:<br/>
    <br/>
    public Object &lt;method_name&gt;(Object[] parms);<br/>
    <br/>
    A call to the function looks like the following:<br/>
    <br/>
    custom(&lt;class_name&gt;, &lt;method_name&gt;, parm[, parm...])

    <h3>Example Call to Custom Function</h3>
    <pre class="SQL"><code>
select * from persons where custom('com.sonicbase.database.CustomFunctions', 'plus', id, id2) < 3
        <br/><br/>
            </code></pre>
<h3>Example Implementation of Custom Function</h3>

        <pre class="Java"><code>

public class CustomFunctions {
<br/>
  public Object plus(Object[] o) {
    if (o[0] == null) {
      if (o[1] != null) {
        return o[1];
      }
      return null;
    }
    long lhs = Long.valueOf(o[0]);
    if (o[1] == null) {
      return lhs;
    }
    long rhs = Long.valueOf(o[1]);
    return lhs + rhs;
  }
}
    </code></pre>

</div>
</div>
</body>
</html>
